<html>

<head>

  <title>Dave Landry</title>

  <link rel="icon" type="image/ico" href="images/favicon.ico">
  <link rel="apple-touch-icon" href="images/avatar-512.jpg">

  <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300,500' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/css/styles.css">
  <link rel="stylesheet" type="text/css" href="/css/font-awesome-4.1.0/css/font-awesome.min.css">

  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

</head>

<body>

  <div id="background"></div>

<script>

  var fs = d3.select("#background")
  if ( !fs.empty() ) {

    var hour = new Date().getHours()
      , dawn = hour >= 5 && hour <= 7
      , dusk = hour >= 18 && hour <= 21
      , night = hour > 21 && hour < 5
    if ( dawn || dusk ) {
      var images = ["charles","powerlines"]
    }
    else if ( night ){
      var images = ["chateau","street"]
    }
    else {
      var images = ["hike","stoughton","trail","unh"]
    }
    var filename = images[Math.floor(Math.random()*images.length)]
    fs.style("background-image","url('images/bg/"+filename+".jpg')")

    var resizebg = function() {
      var w = window.innerWidth,
          h = window.innerHeight,
          aspect = w/h

      if (aspect > 1.7777) {
        fs.style("background-size",w+"px "+(w/1.7777)+"px")
      }
      else {
        fs.style("background-size",(h*1.7777)+"px "+h+"px")
      }
    }

    resizebg()

    window.onresize = resizebg

  }

</script>


  <section>
  <h1>Oops!</h1>
  <p>Move along, nothing to see here.</p>
</section>


</body>

</html>
